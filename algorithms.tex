\newcommand{\ig}[1]{}

\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}

\title{Taylor's \LaTeX Test Document}
\author{Taylor DeMint}

\begin{document}

\maketitle

\begin{algorithm}
\DontPrintSemicolon
\KwIn{$\mathcal{P}$: a CSP instance}
\KwOut{$\mathcal{P}$ after enforcing GAC}
$domains \gets domains(\mathcal{P})$\;
$\mathcal{Q} \gets constraints(\mathcal{P})$\;
\While{$\mathcal{Q} \ne \emptyset$} {
	$constraint \gets \textsc{Pop}(\mathcal{Q})$\;
	$newDomain \gets \textsc{Revise}(constraint)$\;
	\ForEach{$var \in newDomain$} {
		\If{$newDomain[var] \ne domains[var]$} {
			$domains[var] \gets domains[var] \cap newDomain[var]$\;
			$\mathcal{Q} \gets \mathcal{Q} \cup ((constraints(\mathcal{P}) \ni var) \setminus{constraint})$\;
		}
		\If{$domains[var] = \emptyset$} {
			\textbf{throw} inconsistent\;
		}
	}
}
\Return{$\mathcal{P}$}\;

\caption{\textsc{STR}($\mathcal{P}$)}
\end{algorithm}

\begin{algorithm}
\DontPrintSemicolon
\KwIn{$\mathcal{P}$: a CSP instance}
\KwOut{$\mathcal{P}$ after enforcing GAC, $null$ if inconsistent}
$\mathcal{Q} \gets constraints(\mathcal{P})$\;
\While{$\mathcal{Q} \ne \emptyset$} {
	$C_i \gets \textsc{Pop}(\mathcal{Q})$\;
	\ForEach{$var \in scope(C_i)$} {
		\If{$\textsc{ReviseDomain}(var, C_i)$} {
			\If{$domain(var) = \emptyset$} {
				\Return{$null$}\;
			} \Else{
				$\mathcal{Q} \gets \mathcal{Q} \cup ((constraints(\mathcal{P}) \ni var) \setminus{C_i})$\;
			}
		} \ElseIf{$\textsc{ReviseConstraint}(C_i, var)$} {
			\If{$relation(C_i) = \emptyset$} {
				\Return{$null$}\;
			}
		}
	}
}
\Return{$\mathcal{P}$}\;

\caption{\textsc{STR}($\mathcal{P}$)}
\end{algorithm}

\begin{algorithm}
\DontPrintSemicolon
\KwIn{$C_i$: a table constraint}
\KwIn{$var$: a CSP variable such that $var \in scope(C_i)$}
\KwOut{$true$ if the relation of the constraint is revised, $false$ otherwise}
$revised \gets false$\;
\ForEach{$tuple \in relation(C_i)$} {
	\If{$isAlive(tuple)$} {
		\If{$\pi_{var}(tuple) \notin domain(var)$} {
			$isAlive(tuple) \gets false$\;
			$count(C_i) \gets count(C_i) - 1$\;
			$revised \gets true$\;
		}
	}
}
\Return{$revised$}\;
\caption{\textsc{ReviseConstraint}($C_i, var$)}
\end{algorithm}

\begin{algorithm}
\DontPrintSemicolon
\KwIn{$var$: a CSP variable}
\KwIn{$C_i$: a table constraint such that $var \in scope(C_i)$}
\KwOut{$true$ if the domain is revised, $false$ otherwise}
$revised \gets false$\;
$domain \gets \emptyset$\;
\ForEach{$tuple \in relation(C_i)$} {
	\If{$isAlive(tuple)$} {
		$domain \gets domain \cup \pi_{var}(tuple)$\;
	}
}
$newDomain \gets domain \cap domain(var)$\;
\If{$newDomain \ne domain(var)$} {
	$domain(var) \gets newDomain$\;
	$revised \gets true$\;
}
\Return{$revised$}\;
\caption{\textsc{ReviseDomain}($var, C_i$)}
\end{algorithm}

\end{document}